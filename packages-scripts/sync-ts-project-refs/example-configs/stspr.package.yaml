# yaml-language-server: $schema=../schemas/stspr.package.schema.json

# =============================================================================
# Package-level configuration for stspr (sync-ts-project-refs)
# =============================================================================
#
# File name: stspr.package.yaml
# Location: package root (next to package.json)
#
# This file controls:
# - Whether the package is excluded from processing
# - What OTHER packages should reference for this package (canonicalTsconfig)
# - Whether the canonical/standard tsconfig includes workspace dependency refs
# - Additional refs to add/skip (canonical only)
#
# Conventions:
# - canonicalTsconfig.path defaults to ./tsconfig.json (most packages should not set it)
# - references.add/skip here apply ONLY to the canonical tsconfig
#
# =============================================================================

exclude: false

canonicalTsconfig:
  # Canonical tsconfig for this package (the file other packages should reference).
  # Default: ./tsconfig.json
  path: ./tsconfig.json
  # Whether the canonical tsconfig should reference sibling tsconfig.*.json files (discovery).
  # Default: true
  includeSiblings: true
  # Whether tsconfig.json should reference the canonical tsconfig (discovery).
  # Derived default:
  # - canonicalTsconfig.path != ./tsconfig.json => true
  # - canonicalTsconfig.path == ./tsconfig.json => false
  #
  # standardReferencesCanonical: true
  #
  # Whether the canonical tsconfig should include workspace dependency references.
  # Default: true
  includeWorkspaceDeps: true

dependencies:
  include:
    # Whether to treat workspace:* deps in dependencies/devDependencies/optionalDependencies as references.
    dependencies: true
    devDependencies: true
    optionalDependencies: true

# References that apply only to the canonical tsconfig
references:
  # Example:
  # add:
  #   - { path: "../shared/tsconfig.json" }
  add: []
  # Example:
  # skip:
  #   - { path: "../problematic/tsconfig.json" }
  skip: []

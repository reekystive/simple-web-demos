# yaml-language-server: $schema=../schemas/stspr.root.schema.json

# =============================================================================
# Root-level configuration for stspr (sync-ts-project-refs)
# =============================================================================
#
# File name: stspr.root.yaml
# Location: workspace root (next to pnpm-workspace.yaml)
#
# This file controls:
# - Graph behavior (e.g. include transitive workspace deps)
# - Global hard-excludes for packages/tsconfig files (glob + !glob)
# - Root solution tsconfig behavior (which file aggregates workspace packages)
#
# Notes:
# - excludePackages/excludeTsconfigs are HARD excludes (ignore even if package config says otherwise)
# - Glob patterns are pnpm-workspace style and support "!glob" to un-exclude.
#
# =============================================================================

graph:
  # When true, include transitive workspace deps as references.
  # Default: false (direct deps only)
  includeIndirectDeps: false

filters:
  # pnpm-workspace style globs, supports "!glob"
  #
  # Example:
  # excludePackages:
  #   - "packages/legacy-*"
  #   - "!packages/legacy-keep"
  excludePackages: []
  #
  # Example:
  # excludeTsconfigs:
  #   - "**/tsconfig.generated.json"
  #   - "!**/tsconfig.generated.keep.json"
  excludeTsconfigs: []

rootSolution:
  # Root solution tsconfig file to update.
  # If it does not exist, stspr will skip updating the root solution file.
  tsconfigPath: ./tsconfig.json
  # Include sibling root tsconfig.*.json files as references (discovery)
  includeSiblings: true
  # References that apply only to the root solution tsconfig
  references:
    # Extra references to add to the root solution tsconfig
    add: []
    # References to skip/remove from the root solution tsconfig
    skip: []
